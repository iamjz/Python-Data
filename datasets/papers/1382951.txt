Atomic shared register access by asynchronous hardware