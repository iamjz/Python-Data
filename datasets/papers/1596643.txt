Push-pull functional reactive programming