Optimal Selection of CPU Speed, Device Capacities, and File Assignments