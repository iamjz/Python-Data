A Nonblocking Algorithm for Shared Queues Using Compare-and-Swap