Trading Replication Consistency for Performance and Availability: an Adaptive Approach