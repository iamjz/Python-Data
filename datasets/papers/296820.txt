A feedback-driven proportion allocator for real-rate scheduling