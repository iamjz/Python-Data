Synchronizing clocks in the presence of faults