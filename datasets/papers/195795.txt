Sharing and protection in a single-address-space operating system