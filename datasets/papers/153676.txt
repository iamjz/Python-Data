Partial evaluation and automatic program generation