Improving IPC by kernel design