Trading packet headers for packet processing