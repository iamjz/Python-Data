Time synchronization in ad hoc networks