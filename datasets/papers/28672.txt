A knowledge-theoretic analysis of atomic commitment protocols