A simple and correct shared-queue algorithm using compare-and-swap