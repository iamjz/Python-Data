A new solution to the critical section problem