User-level checkpointing through exportable kernel state