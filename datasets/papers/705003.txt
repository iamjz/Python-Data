Towards automtical construction of parallel programs