How to share memory in a distributed system