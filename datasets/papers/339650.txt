A scalable approach to thread-level speculation