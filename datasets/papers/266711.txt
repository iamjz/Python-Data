Flexible update propagation for weakly consistent replication