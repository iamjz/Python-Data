Experience with modularity in consul