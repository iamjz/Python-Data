Coyote: a system for constructing fine-grain configurable communication services