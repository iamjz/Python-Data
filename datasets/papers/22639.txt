Foundations of knowledge for distributed systems