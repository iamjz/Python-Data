The effect of sharing on the cache and bus performance of parallel programs