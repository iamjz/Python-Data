DAISY: dynamic compilation for 100% architectural compatibility