Portable programming within a message-passing model: the FFT as an example