Lottery and stride scheduling: flexibile proportional-share resource management