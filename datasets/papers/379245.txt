An analysis of operating system behavior on a simultaneous multithreaded architecture