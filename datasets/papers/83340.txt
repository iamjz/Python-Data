Fast randomized consensus using shared memory