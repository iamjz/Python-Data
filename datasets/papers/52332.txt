Design of the x-kernel