Correct memory operation of cache-based multiprocessors