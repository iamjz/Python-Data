Efficient Diagnosis of Multiprocessor Systems Under Probabilistic Models