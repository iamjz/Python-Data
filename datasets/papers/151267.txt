Simulating synchronized clocks and common knowledge in distributed systems