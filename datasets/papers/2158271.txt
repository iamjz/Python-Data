Safe programming with pointers through stateful views