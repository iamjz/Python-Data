Psyche: A General-Purpose Operating System for Shared-Memory Multiprocessors