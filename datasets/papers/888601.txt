Lottery and Stride Scheduling: Flexible Proportional-share Resource Management