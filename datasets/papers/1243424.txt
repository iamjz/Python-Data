Singularity: rethinking the software stack