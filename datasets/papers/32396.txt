Debugging Parallel Programs with Instant Replay