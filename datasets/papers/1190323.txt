A garbage-collecting typed assembly language