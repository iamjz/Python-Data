A Market Protocol for Decentralized Task Allocation